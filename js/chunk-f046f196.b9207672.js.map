{"version":3,"sources":["webpack:///./src/components/Lottery.Turntable.vue?04aa","webpack:///./src/components/Lottery.Turntable.vue?e0d1","webpack:///src/components/Lottery.Turntable.vue","webpack:///./src/components/Lottery.Turntable.vue?eec9","webpack:///./src/components/Lottery.Turntable.vue","webpack:///./src/assets/images/block-bg.png","webpack:///./src/assets/images/button.png","webpack:///./src/assets/images/active-block-bg.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","prizes","blocks","buttons","defaultStyle","activeStyle","on","startCallBack","endCallBack","staticRenderFns","name","data","fontColor","fontSize","lineHeight","wordWrap","padding","background","borderRadius","x","y","fonts","imgs","src","width","top","methods","getGiftList","fullName","img","title","text","activeSrc","height","targetGiftIndex","setTimeout","localStorage","mounted","component","module","exports"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2CAA2C,CAACF,EAAG,YAAY,CAACG,IAAI,YAAYD,YAAY,aAAaE,MAAM,CAAC,MAAQ,QAAQ,OAAS,QAAQ,OAASR,EAAIS,OAAO,OAAST,EAAIU,OAAO,QAAUV,EAAIW,QAAQ,gBAAgBX,EAAIY,aAAa,eAAeZ,EAAIa,aAAaC,GAAG,CAAC,MAAQd,EAAIe,cAAc,IAAMf,EAAIgB,gBAAgB,IACtbC,EAAkB,G,YCmBP,GACfC,wBACAC,OA4BA,OA3BA,mBACAC,oBACAC,gBACAC,kBACAC,aAEA,kBACAH,kBAEA,aACA,CAAAI,eAAAC,8BAAAC,sBAEA,cACA,CACAC,IACAC,IACAH,8BACAI,SACAC,MACA,CACAC,cACAC,aACAC,YAKA,CACAxB,YAIAyB,SACAC,cACA,WACA,wDACA,iBACA,CACAC,gBACAlB,aACAmB,YACAJ,aAKAd,kBACAV,QACAkB,UACAC,UACAU,aACAF,oBACAP,QAAAU,YAAAN,YACAH,MACA,CACAC,cACAS,oBACAR,aACAS,eAEA,CACAV,UACAC,YACAC,eAKA,eAEAlB,gBACA,4BACA,8BACA,UACA2B,sBAEAC,gBACA,8BACA,iBAEA3B,eACA,WAAAc,WAAAM,GAAA,EACA,WACAQ,2CACAA,wCACAA,yCACAD,gBACA,uBACA,QAIAE,UACA,qBCpH2V,I,wBCQvVC,EAAY,eACd,EACA/C,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAA6B,E,8BCnBfC,EAAOC,QAAU,IAA0B,6B,qBCA3CD,EAAOC,QAAU,IAA0B,2B,8CCA3CD,EAAOC,QAAU,IAA0B","file":"js/chunk-f046f196.b9207672.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lottery.Turntable.vue?vue&type=style&index=0&id=4729b5d4&prod&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lottery-turntable-component full-screen\"},[_c('LuckyGrid',{ref:\"luckyGrid\",staticClass:\"lucky-grid\",attrs:{\"width\":\"300px\",\"height\":\"300px\",\"prizes\":_vm.prizes,\"blocks\":_vm.blocks,\"buttons\":_vm.buttons,\"default-style\":_vm.defaultStyle,\"active-style\":_vm.activeStyle},on:{\"start\":_vm.startCallBack,\"end\":_vm.endCallBack}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"lottery-turntable-component full-screen\">\n    <LuckyGrid\n      class=\"lucky-grid\"\n      ref=\"luckyGrid\"\n      width=\"300px\"\n      height=\"300px\"\n      :prizes=\"prizes\"\n      :blocks=\"blocks\"\n      :buttons=\"buttons\"\n      :default-style=\"defaultStyle\"\n      :active-style=\"activeStyle\"\n      @start=\"startCallBack\"\n      @end=\"endCallBack\"\n    />\n  </div>\n</template>\n\n<script>\nimport { GLOBAL_KEYS, gifts, homeConfig } from '../gift.setting.js';\nexport default {\n  name: 'LotteryTurntable',\n  data() {\n    this.defaultStyle = {\n      fontColor: \"#AFFFD7\",\n      fontSize: \"10px\",\n      lineHeight: \"13px\",\n      wordWrap: false,\n    };\n    this.activeStyle = {\n      fontColor: \"#fff\",\n    };\n    this.blocks = [\n      { padding: \"10px\", background: \"rgba(0, 0, 0, 0)\", borderRadius: \"10px\" },\n    ];\n    this.buttons = [\n      {\n        x: 1,\n        y: 1,\n        background: \"rgba(0, 0, 0, 0)\",\n        fonts: [],\n        imgs: [\n          {\n            src: require(\"../assets/images/button.png\"),\n            width: \"100%\",\n            top: \"0\",\n          },\n        ],\n      },\n    ];\n    return {\n      prizes: [],\n    };\n  },\n\n  methods: {\n    getGiftList() {\n      const prizes = [];\n      let axis = [[0, 0], [1, 0], [2, 0], [2, 1], [2, 2], [1, 2], [0, 2], [0, 1],];\n      let data = gifts.map(item => {\n        return {\n          fullName: item.name,\n          name: item.alias,\n          img: item.image,\n          top: '70%',\n        };\n      });\n      \n      // let data = [];\n      data.forEach((item, index) => {\n        prizes.push({\n          x: axis[index][0],\n          y: axis[index][1],\n          title: item.name,\n          fullName: item.fullName,\n          fonts: [{ text: item.name, top: item.top }],\n          imgs: [\n            {\n              src: require('../assets/images/block-bg.png'),\n              activeSrc: require('../assets/images/active-block-bg.png'),\n              width: '100%',\n              height: '100%',\n            },\n            {\n              src: item.img,\n              width: '70%',\n              top: '3%',\n            },\n          ],\n        });\n      });\n      this.prizes = prizes;\n    },\n    startCallBack () {\n      this.$refs.luckyGrid.play();\n      let targetGiftIndex = homeConfig.targetGiftIndex;\n      if (!!targetGiftIndex === false) {\n        targetGiftIndex = Math.random() * 8 >> 0;\n      }\n      setTimeout(() => {\n        this.$refs.luckyGrid.stop(targetGiftIndex)\n      }, homeConfig.timeout);\n    },\n    endCallBack (prize) {\n      const { imgs, fullName } = prize;\n      const imageUrl = imgs[1].src;\n      localStorage.setItem(GLOBAL_KEYS.EXIST_KEY, '1');\n      localStorage.setItem(GLOBAL_KEYS.NAME_KEY, fullName);\n      localStorage.setItem(GLOBAL_KEYS.IMAGE_KEY, imageUrl);\n      setTimeout(() => {\n        this.$emit('success');\n      }, 1200);\n    }\n  },\n\n  mounted() {\n    this.getGiftList();\n  }, \n};\n</script>\n\n<style scoped>\n.lottery-turntable-component {\n  background-color: #fad3e6;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.lucky-grid {\n  width: 300px;\n  height: 300px;\n  background: rgb(245, 171, 184);\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lottery.Turntable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lottery.Turntable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lottery.Turntable.vue?vue&type=template&id=4729b5d4&scoped=true&\"\nimport script from \"./Lottery.Turntable.vue?vue&type=script&lang=js&\"\nexport * from \"./Lottery.Turntable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lottery.Turntable.vue?vue&type=style&index=0&id=4729b5d4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4729b5d4\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/block-bg.5c9b3231.png\";","module.exports = __webpack_public_path__ + \"img/button.7572d599.png\";","module.exports = __webpack_public_path__ + \"img/active-block-bg.3beb3dc9.png\";"],"sourceRoot":""}